{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCAzD,IAAAC,EAAAJ,EAAA,SCAiB,IAAAK,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,yCDS5F,MAAMC,WAAEC,EAAUC,WAAEC,GAAeC,EAAAC,QAwBnC,SAASC,IACL,MAAMC,GAAmB,EAAAd,EAAAe,yBAxBZ,gBAyBkB,IAA5BD,EAAiBE,OAChBN,EAAWO,UAAUC,OAAO,oBAE5BR,EAAWO,UAAUE,IAAI,mBACzBX,EAAWY,mBAAmB,aAAa,EAAAC,EAAAC,gBAAeR,I,CA3BlED,IAEAU,SAASC,iBAAiB,SAE1B,SAAoCC,GAGlC,GADkBA,EAAMC,OAAOC,QAAQ,iBACxB,CACb,MAAMC,EAASH,EAAMC,OAAOC,QAAQ,cAAcE,QAAQC,GACpDC,GAAoB,EAAA/B,EAAAe,yBAXb,gBAYPiB,EAAeD,EAAkBE,WACrCC,GAAQA,EAAKC,MAAQP,IAEvBG,EAAkBK,OAAOJ,EAAc,IACvC,EAAAhC,EAAAqC,wBAhBa,eAgBoBN,GACjCvB,EAAW8B,WAAY,EAAAjB,EAAAC,gBAAeS,GACtClB,G","sources":["node_modules/@parcel/runtime-js/lib/runtime-9c203ef843828973.js","src/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.df63e991.js\\\",\\\"8OQ7p\\\":\\\"icons.e7f82428.svg\\\"}\"));","import {\n  getDataFromLocalStorage,\n  saveDataToLocalStorage,\n} from './js/localstorage/local';\nimport spriteSvg from './images/icons.svg#icon-trash-bin';\nimport { set } from 'firebase/database';\nimport { shopListMarkup } from './js/template/markup';\nimport refs from './js/refs/refs';\n\nconst { shopListEl, emptyBinEl } = refs; \nconst BOOK_KEY = 'chosen-books';\n\ndoMarkup();\n\ndocument.addEventListener('click', removeBookFromLocalStorage);\n\nfunction removeBookFromLocalStorage(event) {\n\n  const deleteBtn = event.target.closest('[data-delete]');\n  if (deleteBtn) {\n    const idBook = event.target.closest('.book-item').dataset.id;\n    const localStorageBooks = getDataFromLocalStorage(BOOK_KEY);\n    const bookToDelete = localStorageBooks.findIndex(\n      book => book._id === idBook\n    );\n    localStorageBooks.splice(bookToDelete, 1);\n    saveDataToLocalStorage(BOOK_KEY, localStorageBooks);\n    shopListEl.innerHTML = shopListMarkup(localStorageBooks);\n    doMarkup();\n  }\n\n}\n\nfunction doMarkup() {\n    const localStorageData = getDataFromLocalStorage(BOOK_KEY);\n    if(localStorageData.length === 0) {\n        emptyBinEl.classList.remove('visually-hidden');\n    } else {\n        emptyBinEl.classList.add('visually-hidden');\n        shopListEl.insertAdjacentHTML(\"beforeend\", shopListMarkup(localStorageData));\n    }\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$9qS74","URL","resolve","import","meta","url","toString","shopListEl","$e4901028ceec97df$var$shopListEl","emptyBinEl","$e4901028ceec97df$var$emptyBinEl","$3ILHO","default","$e4901028ceec97df$var$doMarkup","localStorageData","getDataFromLocalStorage","length","classList","remove","add","insertAdjacentHTML","$9wgBh","shopListMarkup","document","addEventListener","event","target","closest","idBook","dataset","id","localStorageBooks","bookToDelete","findIndex","book","_id","splice","saveDataToLocalStorage","innerHTML"],"version":3,"file":"shopping-list.df63e991.js.map"}