{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCAzD,I,EAAAC,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,sBDK5F,MAAMC,EAAaC,SAASC,cAAc,kBACpCC,EAAaF,SAASC,cAAc,uBAyC1C,WACI,MAAME,GAAmB,EAAAZ,EAAAa,yBAzCZ,gBA0CkB,IAA5BD,EAAiBE,OAChBH,EAAWI,UAAUC,OAAO,oBAE5BL,EAAWI,UAAUE,IAAI,mBACzBT,EAAWU,mBAAmB,aA3BlBC,EA2B0CP,EA1B5DQ,QAAQC,IAAIF,GACLA,EAAMG,KAAI,EAACC,IAAEA,EAAGC,UAAEA,EAASC,WAAEA,EAAUC,OAAEA,EAAMC,MAAEA,EAAKC,YAAEA,KACtD,wCAC0BL,4CACCE,WAAoBE,iEAEhDA,kBACDH,iBACAI,iBACAF,+IAGQG,EAAA5B,gFAKZ6B,KAAK,OAlBV,IAAoBX,C,CAjBpBY,GAGA,MAAMC,EAAWvB,SAASwB,eAAe,cACzCb,QAAQC,IAAIW,GAEZA,EAASE,iBAAiB,SAE1B,SAAoCC,GAChC,MAAMC,EAASD,EAAME,cAAcC,QAAQ,cAAcC,QAAQC,GACnEpB,QAAQC,IAAIe,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-93b03979b1a42ec6.js","src/js/template/shopping-list-markup.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gSjKV\\\":\\\"shopping-list.c7327c5e.js\\\",\\\"8OQ7p\\\":\\\"icons.e7f82428.svg\\\"}\"));","import { getDataFromLocalStorage, saveDataToLocalStorage } from \"../localstorage/local\";\nimport spriteSvg from '../../images/icons.svg';\nimport { set } from \"firebase/database\";\nimport { getBookFromLocalStorage } from \"../modals/book-modal\";\n\nconst shopListEl = document.querySelector('.shopping-list');\nconst emptyBinEL = document.querySelector('.empty-bin-wrapper');\nconst BOOK_KEY = 'chosen-books';\n\ndoMarkup();\n\n\nconst trashBtn = document.getElementById('delete-btn');\nconsole.log(trashBtn);\n\ntrashBtn.addEventListener('click', removeBookFromLocalStorage);\n\nfunction removeBookFromLocalStorage(event) {\n    const idBook = event.currentTarget.closest('.book-item').dataset.id;\n  console.log(idBook);\n  // updateLocalStorageBooks(idBook);\n  }\n  \n  \n\n\nfunction shopMarkup(array) {\n  console.log(array);\n  return array.map(({ _id, list_name, book_image, author, title, description }) => {\n    return `\n    <li class=\"book-item\" data-id=\"${_id}\">\n    <img class=\"shop-book-img\" src=\"${book_image}\" alt=\"${title}\" width=\"300\" />\n    <div class=\"book-item-descr\">\n    <h2>${title}</h2>\n    <p>${list_name}</p>\n    <p>${description}</p>\n    <p>${author}</p>\n    <button class=\"book-btn\" id=\"delete-btn\" type=\"button\">\n    <svg class=\"del-modal-icon\" width=\"28\" height=\"28\">\n    <use href=\"${spriteSvg}#icon-trash-bin\"></use>\n    </svg>\n    </button>\n    </div>\n    </li>`\n  }).join('')\n}\n\nfunction doMarkup() {\n    const localStorageData = getDataFromLocalStorage(BOOK_KEY);\n    if(localStorageData.length === 0) {\n        emptyBinEL.classList.remove('visually-hidden');\n    } else {\n        emptyBinEL.classList.add('visually-hidden');\n        shopListEl.insertAdjacentHTML(\"beforeend\", shopMarkup(localStorageData));\n    }\n}\n\nfunction updateLocalStorageBooks(id) {\n  const localStorageBooks = getDataFromLocalStorage(BOOK_KEY);\n  // const existingBook = getBookFromLocalStorage(bookData._id);\n  \n  console.log(localStorageBooks);\n  \n  // if (!existingBook) {\n  //   localStorageBooks.push(bookData);\n  //   updateModalButtonSection(true);\n  // } else {\n  //   const index = localStorageBooks.findIndex(\n  //     book => book._id === bookData._id\n  //   );\n  //   localStorageBooks.splice(index, 1);\n  //   updateModalButtonSection(false);\n  // }\n\n  // saveDataToLocalStorage(BOOKS_KEY, localStorageBooks);\n}\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$9qS74","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$b2bd1397f914280e$var$shopListEl","document","querySelector","$b2bd1397f914280e$var$emptyBinEL","localStorageData","getDataFromLocalStorage","length","classList","remove","add","insertAdjacentHTML","array","console","log","map","_id","list_name","book_image","author","title","description","$parcel$interopDefault","join","$b2bd1397f914280e$var$doMarkup","$b2bd1397f914280e$var$trashBtn","getElementById","addEventListener","event","idBook","currentTarget","closest","dataset","id"],"version":3,"file":"shopping-list.c7327c5e.js.map"}