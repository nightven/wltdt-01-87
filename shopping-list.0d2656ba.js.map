{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCAzD,IAAAC,EAAAJ,EAAA,SCAiB,IAAAK,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,WDO5F,MAAMC,EAAaC,SAASC,cAAc,kBACpCC,EAAaF,SAASC,cAAc,sBAG1CE,WAEAH,SAASI,iBAAiB,SAE1B,SAAoCC,GAGlC,GADmBA,EAAMC,OAAOC,QAAQ,iBACzB,CACb,MAAMC,EAASH,EAAMC,OAAOC,QAAQ,cAAcE,QAAQC,GACpDC,GAAoB,EAAAnB,EAAAoB,yBAXb,gBAYPC,EAAeF,EAAkBG,WACrCC,GAAQA,EAAKC,MAAQR,IAEvBG,EAAkBM,OAAOJ,EAAc,IACvC,EAAArB,EAAA0B,wBAhBa,eAgBoBP,GACjCZ,EAAWoB,mBAAmB,YAAaC,WAAWT,IAI1D,WACI,MAAMU,GAAmB,EAAA7B,EAAAoB,yBAtBZ,gBAuBkB,IAA5BS,EAAiBC,OAChBpB,EAAWqB,UAAUC,OAAO,oBAE5BtB,EAAWqB,UAAUE,IAAI,mBACzB1B,EAAWoB,mBAAmB,YAAaO,eAAeL,I,CAT9DlB,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-93b03979b1a42ec6.js","src/js/template/shopping-list-markup.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gSjKV\\\":\\\"shopping-list.0d2656ba.js\\\",\\\"8OQ7p\\\":\\\"icons.e7f82428.svg\\\"}\"));","import {\n  getDataFromLocalStorage,\n  saveDataToLocalStorage,\n} from '../localstorage/local';\nimport spriteSvg from '../../images/icons.svg';\nimport { set } from 'firebase/database';\n\nconst shopListEl = document.querySelector('.shopping-list');\nconst emptyBinEL = document.querySelector('.empty-bin-wrapper');\nconst BOOK_KEY = 'chosen-books';\n\ndoMarkup();\n\ndocument.addEventListener('click', removeBookFromLocalStorage);\n\nfunction removeBookFromLocalStorage(event) {\n\n   const deleteBtn = event.target.closest('[data-delete]');\n  if (deleteBtn) {\n    const idBook = event.target.closest('.book-item').dataset.id;\n    const localStorageBooks = getDataFromLocalStorage(BOOK_KEY);\n    const bookToDelete = localStorageBooks.findIndex(\n      book => book._id === idBook\n    );\n    localStorageBooks.splice(bookToDelete, 1);\n    saveDataToLocalStorage(BOOK_KEY, localStorageBooks);\n    shopListEl.insertAdjacentHTML('beforeend', shopMarkup(localStorageBooks));\n    doMarkup();\n}\n  \nfunction doMarkup() {\n    const localStorageData = getDataFromLocalStorage(BOOK_KEY);\n    if(localStorageData.length === 0) {\n        emptyBinEL.classList.remove('visually-hidden');\n    } else {\n        emptyBinEL.classList.add('visually-hidden');\n        shopListEl.insertAdjacentHTML(\"beforeend\", shopListMarkup(localStorageData));\n    }\n}\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$9qS74","URL","resolve","import","meta","url","toString","$b2bd1397f914280e$var$shopListEl","document","querySelector","$b2bd1397f914280e$var$emptyBinEL","doMarkup","addEventListener","event","target","closest","idBook","dataset","id","localStorageBooks","getDataFromLocalStorage","bookToDelete","findIndex","book","_id","splice","saveDataToLocalStorage","insertAdjacentHTML","shopMarkup","localStorageData","length","classList","remove","add","shopListMarkup"],"version":3,"file":"shopping-list.0d2656ba.js.map"}