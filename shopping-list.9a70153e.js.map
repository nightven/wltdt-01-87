{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCAzD,I,EAAAC,EAAAJ,EAAA,SCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,sBDKtH,IA2CUC,EAtBUC,EArBdC,EAAaC,SAASC,cAAc,kBACpCC,EAAaF,SAASC,cAAc,sBACpCE,EAAW,eA0CkB,KADzBN,GAAmB,EAAAJ,EAAAW,yBAAwBD,IAC7BE,OAChBH,EAAWI,UAAUC,OAAO,oBAE5BL,EAAWI,UAAUE,IAAI,mBACzBT,EAAWU,mBAAmB,aA3BlBX,EA2B0CD,EA1B5Da,QAAQC,IAAIb,GACLA,EAAMc,KAAI,SAAAC,G,IAAGC,EAAGD,EAAHC,IAAKC,EAASF,EAATE,UAAWC,EAAUH,EAAVG,WAAYC,EAAMJ,EAANI,OAAQC,EAAKL,EAALK,MAAOC,EAAWN,EAAXM,YAC7D,MAAO,wCAE2BC,OADDN,EAAI,4CACiBM,OAApBJ,EAAW,WAEvCI,OAFgDF,EAAM,iEAGvDE,OADCF,EAAM,kBAEPE,OADAL,EAAU,iBAEVK,OADAD,EAAY,iBAIJC,OAHRH,EAAO,+IAGWG,OAAVC,EAAA3B,GAAU,4E,IAKtB4B,KAAK,OAhCV,IAAMC,EAAWvB,SAASwB,eAAe,cACzCd,QAAQC,IAAIY,GAEZA,EAASE,iBAAiB,SAE1B,SAAoCC,GAChC,IAAMC,EAASD,EAAME,cAAcC,QAAQ,cAAcC,QAAQC,GACnErB,QAAQC,IAAIgB,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-be2a7c8f699dcefd.js","src/js/template/shopping-list-markup.js","node_modules/@parcel/runtime-js/lib/runtime-ce669e32e7609f53.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4SWbF\\\":\\\"shopping-list.9a70153e.js\\\",\\\"410VS\\\":\\\"icons.e7f82428.svg\\\"}\"));","import { getDataFromLocalStorage, saveDataToLocalStorage } from \"../localstorage/local\";\nimport spriteSvg from '../../images/icons.svg';\nimport { set } from \"firebase/database\";\nimport { getBookFromLocalStorage } from \"../modals/book-modal\";\n\nconst shopListEl = document.querySelector('.shopping-list');\nconst emptyBinEL = document.querySelector('.empty-bin-wrapper');\nconst BOOK_KEY = 'chosen-books';\n\ndoMarkup();\n\n\nconst trashBtn = document.getElementById('delete-btn');\nconsole.log(trashBtn);\n\ntrashBtn.addEventListener('click', removeBookFromLocalStorage);\n\nfunction removeBookFromLocalStorage(event) {\n    const idBook = event.currentTarget.closest('.book-item').dataset.id;\n  console.log(idBook);\n  // updateLocalStorageBooks(idBook);\n  }\n  \n  \n\n\nfunction shopMarkup(array) {\n  console.log(array);\n  return array.map(({ _id, list_name, book_image, author, title, description }) => {\n    return `\n    <li class=\"book-item\" data-id=\"${_id}\">\n    <img class=\"shop-book-img\" src=\"${book_image}\" alt=\"${title}\" width=\"300\" />\n    <div class=\"book-item-descr\">\n    <h2>${title}</h2>\n    <p>${list_name}</p>\n    <p>${description}</p>\n    <p>${author}</p>\n    <button class=\"book-btn\" id=\"delete-btn\" type=\"button\">\n    <svg class=\"del-modal-icon\" width=\"28\" height=\"28\">\n    <use href=\"${spriteSvg}#icon-trash-bin\"></use>\n    </svg>\n    </button>\n    </div>\n    </li>`\n  }).join('')\n}\n\nfunction doMarkup() {\n    const localStorageData = getDataFromLocalStorage(BOOK_KEY);\n    if(localStorageData.length === 0) {\n        emptyBinEL.classList.remove('visually-hidden');\n    } else {\n        emptyBinEL.classList.add('visually-hidden');\n        shopListEl.insertAdjacentHTML(\"beforeend\", shopMarkup(localStorageData));\n    }\n}\n\nfunction updateLocalStorageBooks(id) {\n  const localStorageBooks = getDataFromLocalStorage(BOOK_KEY);\n  // const existingBook = getBookFromLocalStorage(bookData._id);\n  \n  console.log(localStorageBooks);\n  \n  // if (!existingBook) {\n  //   localStorageBooks.push(bookData);\n  //   updateModalButtonSection(true);\n  // } else {\n  //   const index = localStorageBooks.findIndex(\n  //     book => book._id === bookData._id\n  //   );\n  //   localStorageBooks.splice(index, 1);\n  //   updateModalButtonSection(false);\n  // }\n\n  // saveDataToLocalStorage(BOOKS_KEY, localStorageBooks);\n}\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('4SWbF') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["parcelRequire","register","JSON","parse","$44iE8","$4e6b1e3911de574a$exports","getBundleURL","resolve","localStorageData","array","$0be77836aeb7528d$var$shopListEl","document","querySelector","$0be77836aeb7528d$var$emptyBinEL","$0be77836aeb7528d$var$BOOK_KEY","getDataFromLocalStorage","length","classList","remove","add","insertAdjacentHTML","console","log","map","param","_id","list_name","book_image","author","title","description","concat","$parcel$interopDefault","join","$0be77836aeb7528d$var$trashBtn","getElementById","addEventListener","event","idBook","currentTarget","closest","dataset","id"],"version":3,"file":"shopping-list.9a70153e.js.map"}