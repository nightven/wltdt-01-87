{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCAzD,IAAAC,EAAAJ,EAAA,SCAiBA,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,S,WDOtH,IAAMC,EAAaC,SAASC,cAAc,kBACpCC,EAAaF,SAASC,cAAc,sBACpCE,EAAW,eAEjBC,WAEAJ,SAASK,iBAAiB,SAE1B,SAAoCC,GAGlC,GADmBA,EAAMC,OAAOC,QAAQ,iBACzB,CACb,IAAMC,EAASH,EAAMC,OAAOC,QAAQ,cAAcE,QAAQC,GACpDC,GAAoB,EAAAhB,EAAAiB,yBAAwBV,GAC5CW,EAAeF,EAAkBG,WACrC,SAAAC,G,OAAQA,EAAKC,MAAQR,C,IAEvBG,EAAkBM,OAAOJ,EAAc,IACvC,EAAAlB,EAAAuB,wBAAuBhB,EAAUS,GACjCb,EAAWqB,mBAAmB,YAAaC,WAAWT,IAMvB,KADzBU,GAAmB,EAAA1B,EAAAiB,yBAAwBV,IAC7BoB,OAChBrB,EAAWsB,UAAUC,OAAO,oBAE5BvB,EAAWsB,UAAUE,IAAI,mBACzB3B,EAAWqB,mBAAmB,YAAaO,eAAeL,I,CANlE,IACUA,C","sources":["node_modules/@parcel/runtime-js/lib/runtime-be2a7c8f699dcefd.js","src/js/template/shopping-list-markup.js","node_modules/@parcel/runtime-js/lib/runtime-ce669e32e7609f53.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4SWbF\\\":\\\"shopping-list.4e4ba12c.js\\\",\\\"410VS\\\":\\\"icons.e7f82428.svg\\\"}\"));","import {\n  getDataFromLocalStorage,\n  saveDataToLocalStorage,\n} from '../localstorage/local';\nimport spriteSvg from '../../images/icons.svg';\nimport { set } from 'firebase/database';\n\nconst shopListEl = document.querySelector('.shopping-list');\nconst emptyBinEL = document.querySelector('.empty-bin-wrapper');\nconst BOOK_KEY = 'chosen-books';\n\ndoMarkup();\n\ndocument.addEventListener('click', removeBookFromLocalStorage);\n\nfunction removeBookFromLocalStorage(event) {\n\n   const deleteBtn = event.target.closest('[data-delete]');\n  if (deleteBtn) {\n    const idBook = event.target.closest('.book-item').dataset.id;\n    const localStorageBooks = getDataFromLocalStorage(BOOK_KEY);\n    const bookToDelete = localStorageBooks.findIndex(\n      book => book._id === idBook\n    );\n    localStorageBooks.splice(bookToDelete, 1);\n    saveDataToLocalStorage(BOOK_KEY, localStorageBooks);\n    shopListEl.insertAdjacentHTML('beforeend', shopMarkup(localStorageBooks));\n    doMarkup();\n}\n  \nfunction doMarkup() {\n    const localStorageData = getDataFromLocalStorage(BOOK_KEY);\n    if(localStorageData.length === 0) {\n        emptyBinEL.classList.remove('visually-hidden');\n    } else {\n        emptyBinEL.classList.add('visually-hidden');\n        shopListEl.insertAdjacentHTML(\"beforeend\", shopListMarkup(localStorageData));\n    }\n}\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('4SWbF') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["parcelRequire","register","JSON","parse","$44iE8","getBundleURL","resolve","$0be77836aeb7528d$var$shopListEl","document","querySelector","$0be77836aeb7528d$var$emptyBinEL","$0be77836aeb7528d$var$BOOK_KEY","doMarkup","addEventListener","event","target","closest","idBook","dataset","id","localStorageBooks","getDataFromLocalStorage","bookToDelete","findIndex","book","_id","splice","saveDataToLocalStorage","insertAdjacentHTML","shopMarkup","localStorageData","length","classList","remove","add","shopListMarkup"],"version":3,"file":"shopping-list.4e4ba12c.js.map"}